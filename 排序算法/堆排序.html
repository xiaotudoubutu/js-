<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        function heapSort(arr) {

            // 实现最大堆
            function maxHeap(arr, start, end) {
                let parent = start
                son = parent * 2 + 1;
                temp = null
                while (son <= end) {
                    if (son + 1 <= end && arr[son] < arr[son + 1]) {
                        son++
                    }
                    if (arr[son] > arr[parent]) {
                        temp = arr[son]
                        arr[son] = arr[parent]
                        arr[parent] = temp
                        parent = son
                        son = parent * 2 + 1
                    } else {
                        return
                    }
                }
            }
         for(let i=arr.length/2-1;i>=0;i--){
             maxHeap(arr,i,arr.length-1)
         }
            // 构建升序
            for(let i=arr.length-1;i>0;i--){
                let temp=arr[0]
                arr[0]=arr[i]
                arr[i]=temp
                maxHeap(arr,0,i-1)
            }
        return arr
        }
    </script>

</body>

</html>